<!DOCTYPE html>
<html>
<head>
<title></title>
<style>
#canvas1{
 position:absolute;
 background: black;
 width:100%; 
 height:100%;
 top:0;
 left:0;
}

</style> 
</head>
<body> 
 
<canvas id="canvas1">/canvas>

</body>
<script>
const canvas = document.getElementById("canvas1");
var ctx = canvas.getContext("2d");
var hue = 0; 
var game = true;
canvas.height = window.innerHeight;
canvas.width = window.innerWidth;

var sheeparray = [];
var fruitarray = [];
var lvl = 0.1;
var score = 0;
const mouse = {
 x:100,
 y:100,
}


canvas.addEventListener( "mousemove" , function(event){
mouse.x = event.x;
mouse.y = event.y;

 });

class sheep{
 constructor(){
 this.color = "red",
 this.x = mouse.x,
 this.y = mouse.y,
 this.height = Math.random() * 2 + 10;
 this.width = Math.random() * 2 + 10;
}
draw(){
 ctx.fillStyle = "red";
 ctx.fillRect(this.x,this.y,10,20);
 ctx.fillRect(this.x-10,this.y+5,30,10);
 ctx.fill();
}
update(){
 if(this.x < mouse.x){this.x+=(-this.x+mouse.x)};
 if(this.x > mouse.x){this.x-=(this.x-mouse.x)};
 if(this.y < mouse.y){this.y+=(-this.y+mouse.y)};
 if(this.y > mouse.y){this.y-=(this.y-mouse.y)};
 
}
}

class fruit{
 constructor(){
 this.color = "hsl(" + hue +", 100% , 50% )" ;
 this.x = Math.random()*canvas.width,
 this.y = canvas.height,
 this.height = Math.random() * 20 + 80;
 this.width = Math.random() * 20 + 80;
 }
 drawit(){
 ctx.fillStyle = this.color;
 ctx.fillRect(this.x,this.y,this.height, this.width);
 //ctx.arc(this.x,this.y,this.size,0 ,Math.PI*2);
 ctx.fill();
 }
 updateit(){
  if(this.y <= canvas.height && this.y > (canvas.height*0.25)){
  this.y -= 7;
  } 
  if(mouse.y <= this.y+this.height && mouse.x <= this.x+this.width && mouse.y >= this.y && mouse.x >= this.x ){
   fruitarray.splice(0,1);
   score++;  
} 

 
 this.height-= lvl;
 this.width-= lvl;
 if(score >= 10){ 
                 lvl += 0.1;
                 score = 0; 
}
 if(this.width < 0 ){
    game = false;
    alert(score+"at level "+lvl*10);
    
  }
 if(lvl > 2){
   alert(score+" won at level "+lvl*10);
 }
 }
}

 
function animate(){
  ctx.fillStyle = "rgba(0,0,0,0.5)";
  ctx.fillRect(0,0,canvas.width,canvas.height);
  ctx.fill();
  //ctx.clearRect(0 , 0 , canvas.width,canvas.height);
    sheeparray.push(new sheep());
    sheeparray[0].draw();
    sheeparray[0].update();
   // fruitarray.push(new fruit());
   // fruitarray[0].drawit();
   // fruitarray[0].updateit();
  requestAnimationFrame(animate);
}
if(game){
animate();
}
function animateit(){
  if(game){//ctx.fillStyle = "rgba(0,0,0,0.05)";
  //ctx.fillRect(0,0,canvas.width,canvas.height);
  //ctx.fill();
  //ctx.clearRect(0 , 0 , canvas.width,canvas.height);
    hue += 10;
    fruitarray.push(new fruit());
    fruitarray[0].drawit();
    fruitarray[0].updateit();
}
  requestAnimationFrame(animateit);
}

animateit();


</script>
</html>